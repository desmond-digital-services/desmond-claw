<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Donate with PayPal</title>
</head>
<body>
  <div style="max-width: 400px; margin: 50px auto; padding: 20px; font-family: system-ui, sans-serif; text-align: center;">
    <h2>Support Us</h2>
    <p>Your donation helps us continue our work.</p>
    
    <!-- Replace with your Client ID -->
    <script src="https://www.paypal.com/sdk/js?client-id=YOUR_PAYPAL_CLIENT_ID&currency=USD"></script>
    
    <div id="paypal-button-container"></div>
    
    <div id="donation-amount" style="margin: 20px 0;">
      <label>Custom Amount: $</label>
      <input type="number" id="custom-amount" value="25" min="1" style="width: 80px; padding: 8px;">
    </div>
  </div>

  <script>
    const paypalButtons = paypal.Buttons({
      style: {
        layout: 'vertical',
        color: 'blue',
        shape: 'rect',
        label: 'paypal'
      },
      
      // Create order
      createOrder: function(data, actions) {
        const amount = document.getElementById('custom-amount').value;
        return actions.order.create({
          purchase_units: [{
            amount: {
              value: amount
            },
            description: 'Donation'
          }]
        });
      },
      
      // On approval
      onApprove: function(data, actions) {
        return actions.order.capture().then(function(details) {
          alert('Thank you for your donation, ' + details.payer.name.given_name + '!');
          console.log(details);
        });
      },
      
      // On error
      onError: function(err) {
        console.error('PayPal Error:', err);
        alert('An error occurred. Please try again.');
      }
    });
    
    paypalButtons.render('#paypal-button-container');
    
    // Update button when amount changes
    document.getElementById('custom-amount').addEventListener('change', function() {
      paypalButtons.close();
      paypalButtons.render('#paypal-button-container');
    });
  </script>
</body>
</html>
